{"version":3,"sources":["js/helpers.js","js/globals.js","js/state.js","js/list.js","js/index.js","../../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/bundle-url.js","../../../../../../AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["getElements","map","Object","keys","forEach","item","domNode","document","querySelector","getLocalStorageItem","JSON","parse","window","localStorage","getItem","setLocalStorageItem","value","setItem","stringify","localStorageExists","getDate","date","Date","year","getFullYear","month","getMonth","toString","padStart","day","dateString","stringToHTML","str","parser","DOMParser","doc","parseFromString","body","LOCALSTORAGE_NAME","LOCALSTORAGE_TEMPLATE","user","list","categories","initializeState","state","console","log","insertInList","note","push","i","length","deleteFromList","content","category","splice","newNote","noteString","categoryString","dateObj","noteObj","newNoteDOM","deleteCallback","checkCallback","docString","node","addEventListener","onLoad","dom","name_input","category_input","date_input","save","domLink","setupInput","setupList","deleteNode","appendChild","option","createElement","text","e","keyCode","pos","updateView","insertBefore","children","removeChild","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","now","parentNode","nextSibling","cssTimeout","reloadCSS","setTimeout","links","querySelectorAll","module"],"mappings":"AKAA,ACAA,IDAIwF,ACAAY,MAAM,GDAG,ACAAC,GDAG,IAAhB,ACAoB,CAAC,cAAD,CAApB;;ADCA,ACCA,AFDA,SCASZ,ACCAa,UAAT,CAAoBC,IAApB,EAA0B,CDD1B,GAA8B;AAC5B,ACCA,MDDI,ACCAC,CDDChB,MCCM,GDDX,ACCce,EDDE,ECCE,CAACE,SAAL,EAAd;ADAEjB,ADAJ,ICAIA,SAAS,GAAGE,YAAY,EAAxB;AACD,ACADc,EAAAA,OAAO,CAACE,MAAR,GAAiB,YAAY;AAC3BH,ALLG,AGIP,IECIA,ALLSjE,IKKL,CAACqE,MAAL,MLL0B,GAAG,WAA1B;AIML,ACAC,AJNH,GIIE,MDEOnB,SAAP;AACD,AJLM,AGGP,IHHajD,qBAAqB,GAAG;AKKnCiE,ALJEhE,ACFJ,EIMEgE,ALJEhE,IAAI,EAAE,CKID,CAACoE,IAAR,ALLmC,GKKpBL,IAAI,CAACK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCvF,IAAI,CAACwF,GAAL,EAA/C;ADEF,ACDEP,ALJE9D,AGGJ,ADNA,EGOE8D,ALJE9D,IKIE,ALJE,CKIDsE,CLJG,CIKDrB,CJP4B,OKMnC,CAAgBL,GDClB,GAAwB,MCDtB,CAA6BmB,OAA7B,EAAsCD,IAAI,CAACS,WAA3C;ADEA,ACDD,ALFGtE,ACFG,EDEHA,OCFYC,GDEF,EAAE,CACR,SADQ,ACFT,EDIC,CCJ0B,IDElB;AIId,AJTmC,ADArC,AIQA/B,ADPA,ADGI,CDJG,KISD,ADDA,AFJEgC,CEIDsB,IFJH,YEIJ,CAAwB,MAAxB,EAAgCC,MAAhC,GAEA;ACAI,ACDJ,AHPO,IGOH8C,KHPYlE,CEQN,IAAI4C,ACDA,GAAG,EDCP,EAAN,ACDJ,AHPO,CAAsBlD,IAAtB,EAA4BO,IAA5B,EAAkC;AEStC,ADAH,ADRIP,ADEA,ECFAA,CEMF,CAEE,ADAA2B,EDRI,ADEA,CEMD,ADREnB,ADEA,GEMC,CCAC2C,AFRP,CAAU5C,EEQV,EAAY,AFRZ,wBDEwBV,0BAAnB,CAAL,EAA4C;AGO5C,ACFJ,AFEIG,ADRA,ADEII,EEMJJ,EFNII,EEMA,ADRAK,CAAC,CEQD2C,ADAE,CEFDqB,CHNGzE,CDEG,CAACK,ECFA,CEQD,ADDL,ADPOK,ADET,CAAY,EGMF,ACFlB,CDEmB,ECFE,AHNT,GEQYyC,AFRE,CAAtB,EEQuB,CAACE,KAAV,EAAiBC,KAAjB,CAAuB,4BHNjC,mCGMU,CAAd;ACDF,ANPK,AISH1B,AFNIzB,EEMJyB,EFNIzB,EIIFqE,GNPUjH,AEGH,GEMC,AFNE,EEMA,EEFd,EAAgB,ENPX,CAAqBC,GAArB,EAA0B,CIOvB,mBFJ0BqC,0BAApB,EAAuCC,8BAAvC,CAAR;AGMJ,ACDA,ANPArC,AISAoE,ADTA,ADGC,EFHDpE,AISAoE,CFTA,KGQIuB,ALRE,CAAC1F,AGAA+C,ADGA,CCHC,GHAR,AGAW,CHACjD,AGAL,CEQP,CDCc,CCDD,ALRb,CISgB,ADTA+C,CHAC5C,GGAG,CAACiB,GHArB,CAAyB,AGAT,GAAYoB,IAAI,CCM1B,ADN2BS,CAAC,CHAR7C,EGAW,CAAL,CHAP,AGAG,CAAYgB,CHAL,GGAnC,EAA8C;AES5C,ACDH,ANPK,AISJkD,ADTI9B,ADGAG,EEMJ2B,EDTI9B,ADGAG,IFHItC,AGAA,CAAC4C,ADGA,CCHD,CAAJ,CCSM,AFNE,CGKH8C,CDCG,ADTEvD,CHAC,GAAGlC,AGAA,CAAC2C,CAAC,GEQD,AFRI,CEQH2C,AFRF,CAAd,CHAsB,CAACrF,AIKrB,ICGqB,CAAC,CAAD,CAAR,CAAjB,KLRgB,CAAuBP,GAAG,CAACI,CEGbiC,GFHY,CAA1B,CAAd,qBEGQ,CAAR;AGMH,ALRGrC,AISJuE,ADTItB,ADGH,EEMDsB,EJTIvE,AGAAiD,CAAC,CCSD,CJTG,CAAC7C,AISF,CDTG,CAAL,EHAG,CAAH,GAAYC,OAAZ;AKSL,ACDD2G,ANPG,AIGK,ADHL,CCGL,CEIEA,CNVE,SMUQ,GAAGE,UAAU,CAAC,YAAY;AAClC,ANPH,AIWD,AFTI,IESAvE,IEJIwE,CFIR,AFTWxE,EEUX,EELa,CJLT,EIKYrC,QAAQ,CAAC8G,gBAAT,CAA0B,wBAA1B,CAAZ;ADEF,ALPF,AGFI5E,ADGH,ECHGA,IAAI,CAACS,CAAD,CESC,AFTL,GESF,AFTYF,IAAV;AEUH,ACFG,AFKJ,ADZI,ICYAyB,KELK,AHPEvB,CAAP,CCYO,EELEA,CAAC,AFKA,EAAd,CELiB,CAAb,EAAgBA,CAAC,GAAGkE,KAAK,CAACjE,MAA1B,EAAkCD,CAAC,EAAnC,EAAuC;AACrC,AHPL,UGOSkD,MAAM,CAACJ,UAAP,CAAkBoB,KAAK,CAAClE,CAAD,CAAL,CAAS0D,IAA3B,MAAqCR,MAAM,CAACV,YAAP,EAAzC,EAAgE;ADGtE,ACFQY,AFOR,QEPQA,CDECN,ADKA7B,MAAT,GEPkB,AFOA,CCLlB,ACFmBiD,CDECnB,GAApB,CCFwB,CDEC,ACFA/C,CAAD,CAAN,CAAV;ADGN,ACFK,AFOH,ADdG,SESE,AFTOE,CESN,KAAK6C,GAAN,EAAWC,GFTb,CAAwBzD,GEStB,CAAmB,ADKZ2B,ADdT,EAA8BpB,CCcjC,GDdG,EAAoC,8DESlC,EAA2F,IAA3F,IAAmG,GAA1G;AACD,ACFI,AFODH,ADdAA,ECcAA,ADdAA,OCcO,ADdA,CCcCC,ADdAA,GCcR,ADdA,CCcYsB,ADdApB,GCcZ,CDdA;AHCG,AIeHJ,ADfA,ECeAA,IDfIM,CCeC,ADfA,EHAOzC,CIeJ,ADfA,CAAR,iBHAG,CAA6BJ,IAA7B,EAAmC,IIetC;ACLJ8F,ACFIc,ANPA,AIgBApE,EAAAA,EETAoE,GDEG,CAACvB,CLTGhF,AIgBA,CAACoC,GJhBG,AIgBX,CETU,ANPEnC,AIgBAiC,GETC,ENPN,AIgBP,CCPJ,ALTsBhC,CMOlB,EDEmB6E,GLTK,CAAC5E,YAAP,CAAoBC,CKS1C,MLTsB,CAA4BT,IAA5B,CAAX,CAAP;AKUJ8F,ACFG,ANPF,AIkBGzB,ADnBA,ECmBAA,CEpBqB,EASpB,EDEE,ACXkB,CDWjBsB,ACXN,CHCS9C,CAAC,ECmBE,CAACkB,ADnBA3B,GCmBD,CAAV,ADnBe,CEUnB,AFVoBU,GEUC6C,GFVjB,EAAwB,KEU5B;ACDC,ANND,AIiBIrB,ADnBI,ECmBJA,MDnBQlC,GCmBC,CAAC2B,ADnBE,CAAClB,CAAD,CCmBH,ADnBD,CCmBR,ADnBgB7B,IAAR,KAAiB2B,IAAI,CAA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","file":"js.00a46daa.js","sourceRoot":"..\\src","sourcesContent":["\r\n\r\n/**\r\n * Get Dom elements from an identifier-string key-value pair.\r\n * @param {Object} map \r\n */\r\nexport function getElements(map) {\r\n    Object.keys(map).forEach((item) => {\r\n        let domNode = document.querySelector(map[item])\r\n        map[item] = domNode\r\n    })\r\n}\r\n\r\n/**\r\n * Get object from Local Storage.\r\n * @param {string} item \r\n */\r\nexport function getLocalStorageItem(item) {\r\n    return JSON.parse(window.localStorage.getItem(item))\r\n}\r\n\r\n/**\r\n * Set item from Local Storage to JSON value.\r\n * @param {string} item\r\n */\r\nexport function setLocalStorageItem(item, value) {\r\n    return window.localStorage.setItem(`${item}`, JSON.stringify(value));\r\n};\r\n\r\n/**\r\n * Set item from Local Storage to JSON value.\r\n * @param {string} item\r\n */\r\nexport function localStorageExists(item) {\r\n    return !(window.localStorage.getItem(item) === null)\r\n};\r\n\r\n\r\n/**\r\n * Get current date in YYYY-MM-DD format.\r\n */\r\nexport function getDate() {\r\n    let date = new Date();\r\n    let year = date.getFullYear()\r\n    let month = (date.getMonth() + 1).toString().padStart(2, '0')\r\n    let day = (date.getDate()).toString().padStart(2, '0')\r\n    let dateString = `${year}-${month}-${day}`\r\n\r\n    return dateString\r\n}\r\n\r\n\r\n\r\n/**\r\n * Convert a template string into HTML DOM nodes\r\n * @param  {String} str The template string\r\n * @return {Node}       The template HTML\r\n */\r\nexport function stringToHTML(str) {\r\n    var parser = new DOMParser();\r\n    var doc = parser.parseFromString(str, 'text/html');\r\n    return doc.body;\r\n};\r\n","export const LOCALSTORAGE_NAME = \"todo-list\"\r\n\r\nexport const LOCALSTORAGE_TEMPLATE = {\r\n    user: \"mh15\",\r\n    list: [\r\n\r\n    ],\r\n    categories: [\r\n        \"default\",\r\n        \"CSE\"\r\n    ]\r\n}","import { getElements, getLocalStorageItem, localStorageExists, setLocalStorageItem } from './helpers'\r\nimport { LOCALSTORAGE_NAME, LOCALSTORAGE_TEMPLATE } from './globals'\r\n\r\n\r\n\r\nexport function initializeState() {\r\n    let state\r\n    if (!localStorageExists(LOCALSTORAGE_NAME)) {\r\n        console.log(\"First session. Copy LOCALSTORAGE_TEMPLATE to store.\")\r\n        state = setLocalStorageItem(LOCALSTORAGE_NAME, LOCALSTORAGE_TEMPLATE)\r\n    } else {\r\n        state = getLocalStorageItem(LOCALSTORAGE_NAME)\r\n    }\r\n    return state\r\n}\r\n\r\n","\r\nimport { stringToHTML } from \"./helpers\"\r\n\r\n// Insert note into sorted list and return position\r\nexport function insertInList(list, note) {\r\n    list.push(note)\r\n    let i = list.length - 1\r\n    while (i > 0 && note.date < list[i - 1].date) {\r\n        list[i] = list[i - 1]\r\n        i -= 1\r\n    }\r\n    list[i] = note\r\n    return i\r\n}\r\n\r\nexport function deleteFromList(list, note) {\r\n    console.log(note)\r\n    let i = 0\r\n    while (i < list.length) {\r\n        if (list[i].date === note.date) {\r\n            if (list[i].content === note.content) {\r\n                if (list[i].category === note.category) {\r\n                    console.log(\"found and deleted\")\r\n                    list.splice(i, 1)\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        i++\r\n    }\r\n    return i\r\n}\r\n\r\nexport function newNote(noteString, categoryString, dateString) {\r\n    let dateObj = new Date(dateString)\r\n    let noteObj = {\r\n        content: noteString,\r\n        category: categoryString,\r\n        date: dateString\r\n    }\r\n    // TODO: insertion date?\r\n    return noteObj\r\n}\r\n\r\n\r\nexport function newNoteDOM(noteObj, deleteCallback, checkCallback) {\r\n    let docString = `\r\n        <div class=\"note\">\r\n            <div class=\"date\">${noteObj.date}</div>\r\n            <div class=\"category\">${noteObj.category}</div>\r\n            <div class=\"content\">${noteObj.content}</div>\r\n            <button class=\"delete\">Delete</button>\r\n        </div>\r\n    `\r\n    let node = stringToHTML(docString)\r\n\r\n    node.querySelector(\".delete\").addEventListener('click', () => {\r\n        deleteCallback(noteObj)\r\n    })\r\n\r\n\r\n    return node\r\n}","\r\nimport { getElements, getDate, setLocalStorageItem } from './helpers'\r\n\r\nimport { initializeState } from './state'\r\nimport { list, insertInList, newNote, newNoteDOM, deleteFromList } from './list'\r\nimport { LOCALSTORAGE_NAME } from './globals';\r\n\r\nimport \"../sass/main.scss\"\r\n\r\n\r\nwindow.addEventListener(\"load\", onLoad);\r\n\r\n// define DOM stuff\r\nlet dom = {\r\n    list: \"#list\",\r\n    name_input: \"#name_input\",\r\n    category_input: \"#category_input\",\r\n    date_input: \"#date_input\",\r\n    save: \"#save\"\r\n}\r\n\r\n\r\nlet state\r\n// link the state with the DOM for performant sorting\r\nlet domLink = []\r\n\r\n\r\n\r\nfunction onLoad() {\r\n    getElements(dom);\r\n    console.log(dom);\r\n\r\n    state = initializeState()\r\n\r\n    console.log(state)\r\n\r\n\r\n    setupInput(dom)\r\n    setupList(dom)\r\n\r\n    dom.save.addEventListener('click', () => {\r\n        setLocalStorageItem(LOCALSTORAGE_NAME, state)\r\n    })\r\n\r\n}\r\n\r\nfunction setupList() {\r\n    state.list.forEach(note => {\r\n        let node = newNoteDOM(note, deleteNode)\r\n        dom.list.appendChild(node)\r\n        domLink.push(node)\r\n    });\r\n}\r\n\r\n\r\nfunction setupInput(dom) {\r\n\r\n    dom.name_input.value = \"\"\r\n    dom.category_input.value = \"\"\r\n\r\n    for (let category of state.categories) {\r\n        let option = document.createElement(\"option\")\r\n        option.value = category\r\n        option.text = category\r\n        dom.category_input.appendChild(option)\r\n    }\r\n\r\n\r\n\r\n    dom.date_input.value = getDate()\r\n\r\n    dom.date_input.addEventListener('keydown', (e) => {\r\n        if (e.keyCode === 13) {\r\n            if (dom.name_input.value != \"\" && dom.category_input.value != \"\" && dom.date_input.value != \"\") {\r\n                let note = dom.name_input.value\r\n                let category = dom.category_input.value\r\n                let date = dom.date_input.value\r\n\r\n                let noteObj = newNote(note, category, date)\r\n                let pos = insertInList(state.list, noteObj)\r\n                updateView(noteObj, pos)\r\n            }\r\n        }\r\n    })\r\n\r\n}\r\n\r\n\r\nfunction updateView(noteObj, pos) {\r\n    let node = newNoteDOM(noteObj, deleteNode)\r\n    dom.list.insertBefore(node, dom.list.children[pos])\r\n    console.log(\"rendering\")\r\n}\r\n\r\n\r\nfunction deleteNode(noteObj) {\r\n    let pos = deleteFromList(state.list, noteObj)\r\n    dom.list.removeChild(dom.list.children[pos])\r\n}","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}